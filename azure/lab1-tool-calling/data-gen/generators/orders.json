{
    "connection": "orders-kafka",
    "name": "orders",
    "topic": "orders",
    "vars": {
        "customer": {
            "_gen": "lookup",
            "connection": "customers-kafka",
            "topic": "customers",
            "path": []
        },
        "product_index": {
            "_gen": "cycle",
            "sequence": {
                "_gen": "repeatedly",
                "n": 17,
                "localVars": {
                    "random_product_index": {
                        "_gen": "uniformDistribution",
                        "bounds": [0, 16],
                        "decimals": 0
                    }
                },
                "target": {
                    "_gen": "var",
                    "var": "random_product_index"
                }
            }
        },
        "product": {
            "_gen": "lookup",
            "connection": "products-kafka",
            "topic": "products",
            "path": [],
            "offset": {
                "_gen": "var",
                "var": "product_index"
            }
        },
        "timestamp_suffix": {
            "_gen": "math",
            "expr": "floor(now / 10000) % 1000000",
            "names": {
                "now": {
                    "_gen": "now"
                }
            },
            "decimals": 0
        }
    },
    "value": {
        "order_id": {
            "_gen": "string",
            "expr": "O-#{suffix}",
            "names": {
                "suffix": {
                    "_gen": "var",
                    "var": "timestamp_suffix"
                }
            }
        },
        "customer_id": {
            "_gen": "var",
            "var": "customer",
            "path": ["value", "customer_id"]
        },
        "product_id": {
            "_gen": "var",
            "var": "product",
            "path": ["value", "product_id"]
        },
        "price": {
            "_gen": "var",
            "var": "product",
            "path": ["value", "price"]
        },
        "order_ts": {
            "_gen": "now"
        }
    },
    "localConfigs": {
        "throttleMs": {
            "_gen": "uniformDistribution",
            "bounds": [10000, 15000]
        },
        "kafkaValueAvroSchemaHint": {
            "type": "record",
            "name": "orders",
            "fields": [
                {
                    "name": "order_id",
                    "type": "string"
                },
                {
                    "name": "customer_id",
                    "type": "string"
                },
                {
                    "name": "product_id",
                    "type": "string"
                },
                {
                    "name": "price",
                    "type": "double"
                },
                {
                    "name": "order_ts",
                    "type": {
                        "type": "long",
                        "flink.precision": 3,
                        "flink.version": "1",
                        "logicalType": "timestamp-millis"
                    }
                }
            ]
        }
    }
}