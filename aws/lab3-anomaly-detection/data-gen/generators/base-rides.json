{
    "connection": "ride-requests-kafka",
    "topic": "ride_requests",
    "varsOnce": {
        "startingTime": {
            "_gen": "now"
        },
        "steadyStateMean": {
            "_gen": "uniformDistribution",
            "bounds": [15000, 35000]
        }
    },
    "vars": {
        "email": {
            "_gen": "string",
            "expr": "#{Internet.emailAddress}"
        },
        "steadyStateThrottle": {
            "_gen": "weightedOneOf",
            "choices": [
                {
                    "weight": 4,
                    "value": {
                        "_gen": "normalDistribution",
                        "mean": {
                            "_gen": "var",
                            "var": "steadyStateMean"
                        },
                        "sd": 10000,
                        "clamp": [1000, 50000],
                        "decimals": 0
                    }
                },
                {
                    "weight": 1,
                    "value": {
                        "_gen": "uniformDistribution",
                        "bounds": [2000, 3500],
                        "decimals": 0
                    }
                }
            ]
        }
    },
    "key": {
        "key": {
            "string": {
                "_gen": "var",
                "var": "email"
            }
        }
    },
    "value": {
        "request_id": {
            "_gen": "sequentialString",
            "startingFrom": 2000000,
            "expr": "REQ-~d"
        },
        "customer_email": {
            "_gen": "var",
            "var": "email"
        },
        "pickup_zone": {
            "_gen": "var",
            "var": "forkKey"
        },
        "drop_off_zone": {
            "_gen": "oneOf",
            "choices": {
                "_gen": "loadJsonFile",
                "file": "/home/zones/all-zones.json"
            }
        },
        "price": {
            "_gen": "uniformDistribution",
            "bounds": [50, 150],
            "decimals": 2
        },
        "number_of_passengers": {
            "_gen": "uniformDistribution",
            "bounds": [1, 5],
            "decimals": 0
        },
        "request_ts": {
            "_gen": "var",
            "var": "delta",
            "path": ["ts"]
        }
    },
    "localConfigs": {
        "throttleMs": {
            "_gen": "var",
            "var": "delta",
            "path": ["throttle"]
        },
        "avroSchemaHint": {
            "key": {
                "type": "record",
                "name": "ride_requests_key",
                "namespace": "org.apache.flink.avro.generated.record",
                "fields": [
                    {"name": "key", "type": ["null", "string"], "default": null}
                ]
            },
            "value": {
                "type": "record",
                "name": "ride_requests_value",
                "namespace": "org.apache.flink.avro.generated.record",
                "fields": [
                    {"name": "request_id", "type": "string"},
                    {"name": "customer_email", "type": "string"},
                    {"name": "pickup_zone", "type": "string"},
                    {"name": "drop_off_zone", "type": "string"},
                    {"name": "price", "type": "double"},
                    {"name": "number_of_passengers", "type": "int"},
                    {"name": "request_ts", "type": {"type": "long", "logicalType": "timestamp-millis"}}
                ]
            }
        }
    }
}
